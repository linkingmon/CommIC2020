gold_in = [
    0.0000 - 1.8840i
   -1.7000 + 1.6740i
   -1.6050 + 0.2620i
    0.4120 + 1.0520i
    1.3630 - 0.0060i
   -0.1150 + 1.8180i
   -0.2090 - 0.0360i
    0.2770 - 1.9320i
    0.3810 - 0.2030i
    0.7360 - 1.5910i
   -1.0860 - 1.7600i
    0.0420 + 0.0470i
    1.3460 - 1.3970i
    1.8890 - 0.1450i
   -0.9780 - 0.0240i
    0.0960 - 0.7430i
   -0.2270 + 0.1160i
   -1.4090 + 1.5960i
    1.9790 - 0.0980i
   -0.4770 - 1.5010i
    0.2990 + 0.6810i
   -0.7510 + 1.0020i
    1.5630 - 1.4920i
   -0.9680 - 1.4650i
   -1.5520 + 0.1210i
   -0.7230 + 0.0860i
   -0.4840 + 0.3930i
   -1.7810 - 0.0490i
    2.0430 - 1.9100i
   -0.5270 + 0.6210i
   -0.7010 + 0.6720i
    1.5020 + 2.0320i] * 1e3;

next = [gold_in(1:16) + gold_in(17:32) ; gold_in(1:16) - gold_in(17:32)] .* [ones(16,1) ; exp(-1i*2*pi*(0:15).'/32)]


next = [next(1:8) + next(9:16) ; next(1:8) - next(9:16) ; next(17:24) + next(25:32) ; next(17:24) - next(25:32)] .* ...
[ones(8, 1) ; exp(-1i*2*pi*(0:7).'/16); ones(8, 1) ; exp(-1i*2*pi*(0:7).'/16)]

next = [next(1:4) + next(5:8) ; next(1:4) - next(5:8) ; next(9:12) + next(13:16) ; next(9:12) - next(13:16) ;  ...
    next(17:20) + next(21:24) ; next(17:20) - next(21:24) ; next(25:28) + next(29:32) ; next(25:28) - next(29:32)] .* ...
    [ones(4, 1) ; exp(-1i*2*pi*(0:3).'/8); ones(4, 1) ; exp(-1i*2*pi*(0:3).'/8);ones(4, 1) ; exp(-1i*2*pi*(0:3).'/8);ones(4, 1) ; exp(-1i*2*pi*(0:3).'/8)]

next = [next(1:2) + next(3:4) ; next(1:2) - next(3:4) ; next(5:6) + next(7:8) ; next(5:6) - next(7:8) ; ...
    next(9:10) + next(11:12) ;  next(9:10) - next(11:12) ;  next(13:14) + next(15:16) ;  next(13:14) - next(15:16) ; ...
    next(17:18) + next(19:20) ; next(17:18) - next(19:20) ; next(21:22) + next(23:24) ; next(21:22) - next(23:24) ; ...
    next(25:26) + next(27:28) ; next(25:26) - next(27:28) ; next(29:30) + next(31:32) ; next(29:30) - next(31:32)] .* ...
    [ones(2, 1) ; exp(-1i*2*pi*(0:1).'/4); ones(2, 1) ; exp(-1i*2*pi*(0:1).'/4);ones(2, 1) ; exp(-1i*2*pi*(0:1).'/4);ones(2, 1) ; ...
     exp(-1i*2*pi*(0:1).'/4);ones(2, 1) ; exp(-1i*2*pi*(0:1).'/4);ones(2, 1) ; exp(-1i*2*pi*(0:1).'/4);ones(2, 1) ; exp(-1i*2*pi*(0:1).'/4); ...
     ones(2, 1) ; exp(-1i*2*pi*(0:1).'/4)]

val1 = next([1:2:31]) + next([2:2:32]);
val2 = next([1:2:31]) - next([2:2:32]);
my_out = [val1.' ;val2.'];
my_out = my_out(:)

gold_out = fft(gold_in);
gold_out = gold_out(bin2dec(fliplr(dec2bin(0:31,5)))+1)
my_out - gold_out

% gold_in = [
%     0.0000 - 1.8840i
%    -1.7000 + 1.6740i
%    -1.6050 + 0.2620i
%     0.4120 + 1.0520i
%     1.3630 - 0.0060i
%    -0.1150 + 1.8180i
%    -0.2090 - 0.0360i
%     0.2770 - 1.9320i] * 1e3;


% next = [gold_in(1:4) + gold_in(5:8) ; gold_in(1:4) - gold_in(5:8)] .* [ones(4, 1) ; exp(1i*2*pi*(0:3).'/8)]

% next = [next(1:2) + next(3:4) ; next(1:2) - next(3:4) ; next(5:6) + next(7:8) ; next(5:6) - next(7:8)] .* ...
%     [ones(2, 1) ; exp(1i*2*pi*(0:1).'/4); ones(2, 1) ; exp(1i*2*pi*(0:1).'/4)]

% next([1:2:7]) + next([2:2:8])
% next([1:2:7]) - next([2:2:8])

% fft(gold_in)